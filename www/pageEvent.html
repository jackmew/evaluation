<!DOCTYPE html>
<!--
    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
     KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.
-->
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
        <meta name="msapplication-tap-highlight" content="no" />

        
        <link rel="stylesheet" type="text/css" href="css/jquery_mobile-1_4_2_min.css" />

        <link rel="stylesheet" href="css/jquery-ui.min.css">
        <link href='css/fullcalendar.css' rel='stylesheet' />
        <link href='css/fullcalendar.print.css' rel='stylesheet' media='print' />
        
        
        <link rel="stylesheet" type="text/css" href="css/index.css" />
        <!-- weinre
        <script src="http://192.168.26.109:8081/target/target-script-min.js#anonymous"></script>
        -->
        <!-- jquery -->
        <script src="lib/jquery-1_11_1_min.js" type="text/javascript"></script>

        <!-- jquery ui for full calendar  -->
        <script src="lib/jquery-ui.min.js"></script>
        <!-- moment.js for full calendar  -->
        <script src='lib/moment.min.js'></script>
        <!-- full calendar -->
        <script src='lib/fullcalendar.min.js'></script>
        <!-- pdf.js for read pdf -->
        <script src="lib/pdf/pdf.js"></script>
        <script>PDFJS.workerSrc = 'lib/pdf/worker_loader.js';</script>

        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
        <script src="lib/jquery_mobile-1_4_2_min.js" type="text/javascript"></script>

        <title>LeanDev Evaluation System</title>
    </head>
    <body>

<!-- ******************************* page1 *************************************** -->
        <div data-role="page" id="page1" >
            <!--** header ** -->
            <div data-role="header" data-position="fixed" >
                <a href="#page2">page2</a>
                <h1>page1</h1>
                <a href="#" data-rel="back">back</a>
            </div>
        
            <div data-role="content">
         
            </div>
            <!-- ** footer ** -->
            <div data-role="footer" data-position="fixed" >
              
            </div>
        </div>
<!-- ******************************* page2 *************************************** -->
        <div data-role="page" id="page2" >
            <!--** header ** -->
            <div data-role="header" data-position="fixed" >
                <a href="#page3">page3</a>
                <h1>page2</h1>
                <a href="#" data-rel="back">back</a>
            </div>
        
            <div data-role="content">
         
            </div>
            <!-- ** footer ** -->
            <div data-role="footer" data-position="fixed" >
              
            </div>
        </div>
<!-- ******************************* page3 *************************************** -->
        <div data-role="page" id="page3" >
            <!--** header ** -->
            <div data-role="header" data-position="fixed" >
                <a href="#page1">page1</a>
                <h1>page3</h1>
                <a href="#" data-rel="back">back</a>
            </div>
        
            <div data-role="content">
         
            </div>
            <!-- ** footer ** -->
            <div data-role="footer" data-position="fixed" >
              
            </div>
        </div>

        <script>
            // $( ":mobile-pagecontainer" ).pagecontainer( "change", "#page2" ,{ 
            //     transition
            // });

            /* 只會 call 一次 , 之後就不會再次觸發 */
            // var currentPage = $( document ).pagecontainer( "getActivePage" );
            // alert(currentPage);
            // $(document).on("pageinit", "#page2" , function () {
            //    alert("page2");
            // });

            // $(document).on("pagecreate", "[data-role=page]", function () {
            //    alert("page ppp");
            // });
            /***************** 每次進入頁面都會觸發 ***************************/
            /* 無法指定 頁面 call一次 */
            $( document ).on( "pagecontainerbeforeshow" ,function(e, data) {
                
                if (typeof data.prevPage[0] !== "undefined" ) {
                    alert("pagecontainerbeforeshow Prev Page :" + data.prevPage[0].id);
                }  
            });
            $( document ).on( "pagecontainerbeforehide" ,function(e, data) {
                alert("pagecontainerbeforehide Next Page : "+data.nextPage[0].id);
            });
            /* 無法指定 頁面 call兩次 */
            $(document).on("pagebeforechange", function (e, data) {

              if(data.toPage[0].id == "page2") {
                alert("inner");
                // 會在page2出現前 就會轉換到page3
                $.mobile.changePage("#page3");
                e.preventDefault(); // don't update $.mobile.urlHistory
              }
            });
            /* 看下一頁的page id*/
            $(document).on("pagecontainerhide", function (e, ui) {

                //alert("pagecontainerhide : "+ui.nextPage[0].id);

            });
            /* 看上一頁的page id */
            $(document).on("pagecontainershow", function (e, ui) {
                //需要加這判斷是因為第一頁進入時 會不存在前一頁 就會出現undefined error
                // if (typeof ui.prevPage[0] !== "undefined" ) {
                //     console.log("Prev Page :" + ui.prevPage[0].id);
                // }    
            });
        </script>

    </body>
</html>
